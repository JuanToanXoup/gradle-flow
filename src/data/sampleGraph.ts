import type { GradleTaskNode, GradleEdge } from '../types/gradle';

/**
 * Sample nodes representing a typical Gradle build task graph
 * with configuration examples demonstrating Phase 2 features
 */
export const sampleNodes: GradleTaskNode[] = [
  {
    id: 'clean',
    type: 'gradleTask',
    position: { x: 250, y: 0 },
    data: {
      taskName: 'clean',
      taskType: 'Delete',
      group: 'build',
      description: 'Deletes the build directory',
      enabled: true,
      config: {
        delete: ['build', '.gradle'],
        followSymlinks: false,
      },
    },
  },
  {
    id: 'compileJava',
    type: 'gradleTask',
    position: { x: 100, y: 120 },
    data: {
      taskName: 'compileJava',
      taskType: 'JavaCompile',
      group: 'build',
      description: 'Compiles main Java source',
      enabled: true,
      config: {
        sourceCompatibility: '17',
        targetCompatibility: '17',
        encoding: 'UTF-8',
        compilerArgs: ['-Xlint:deprecation', '-Xlint:unchecked'],
        deprecation: true,
        warnings: true,
      },
    },
  },
  {
    id: 'processResources',
    type: 'gradleTask',
    position: { x: 400, y: 120 },
    data: {
      taskName: 'processResources',
      taskType: 'ProcessResources',
      group: 'build',
      description: 'Processes main resources',
      enabled: true,
      config: {
        from: ['src/main/resources'],
        into: 'build/resources/main',
        include: ['**/*.properties', '**/*.xml', '**/*.json'],
        duplicatesStrategy: 'EXCLUDE',
      },
    },
  },
  {
    id: 'classes',
    type: 'gradleTask',
    position: { x: 250, y: 240 },
    data: {
      taskName: 'classes',
      taskType: 'Custom',
      group: 'build',
      description: 'Assembles main classes',
      enabled: true,
      dependsOn: ['compileJava', 'processResources'],
    },
  },
  {
    id: 'compileTestJava',
    type: 'gradleTask',
    position: { x: 50, y: 360 },
    data: {
      taskName: 'compileTestJava',
      taskType: 'JavaCompile',
      group: 'build',
      description: 'Compiles test Java source',
      enabled: true,
      config: {
        sourceCompatibility: '17',
        targetCompatibility: '17',
      },
    },
  },
  {
    id: 'processTestResources',
    type: 'gradleTask',
    position: { x: 250, y: 360 },
    data: {
      taskName: 'processTestResources',
      taskType: 'ProcessResources',
      group: 'build',
      description: 'Processes test resources',
      enabled: true,
    },
  },
  {
    id: 'testClasses',
    type: 'gradleTask',
    position: { x: 150, y: 480 },
    data: {
      taskName: 'testClasses',
      taskType: 'Custom',
      group: 'build',
      description: 'Assembles test classes',
      enabled: true,
    },
  },
  {
    id: 'test',
    type: 'gradleTask',
    position: { x: 150, y: 600 },
    data: {
      taskName: 'test',
      taskType: 'Test',
      group: 'verification',
      description: 'Runs the unit tests',
      enabled: true,
      timeout: 30,
      config: {
        include: ['**/*Test.class', '**/*Tests.class'],
        exclude: ['**/*IntegrationTest.class'],
        maxParallelForks: 4,
        failFast: false,
        ignoreFailures: false,
        jvmArgs: ['-Xmx512m', '-XX:+UseG1GC'],
      },
    },
  },
  {
    id: 'jar',
    type: 'gradleTask',
    position: { x: 450, y: 360 },
    data: {
      taskName: 'jar',
      taskType: 'Jar',
      group: 'build',
      description: 'Assembles a jar archive',
      enabled: true,
      config: {
        archiveFileName: 'myapp.jar',
        destinationDirectory: 'build/libs',
        duplicatesStrategy: 'EXCLUDE',
      },
    },
  },
  {
    id: 'assemble',
    type: 'gradleTask',
    position: { x: 450, y: 480 },
    data: {
      taskName: 'assemble',
      taskType: 'Custom',
      group: 'build',
      description: 'Assembles the outputs of this project',
      enabled: true,
    },
  },
  {
    id: 'check',
    type: 'gradleTask',
    position: { x: 150, y: 720 },
    data: {
      taskName: 'check',
      taskType: 'Custom',
      group: 'verification',
      description: 'Runs all checks',
      enabled: true,
    },
  },
  {
    id: 'build',
    type: 'gradleTask',
    position: { x: 300, y: 840 },
    data: {
      taskName: 'build',
      taskType: 'Custom',
      group: 'build',
      description: 'Assembles and tests this project',
      enabled: true,
    },
  },
  {
    id: 'runScript',
    type: 'gradleTask',
    position: { x: 600, y: 240 },
    data: {
      taskName: 'runScript',
      taskType: 'Exec',
      group: 'application',
      description: 'Runs a shell script',
      enabled: true,
      config: {
        commandLine: ['bash', 'scripts/deploy.sh'],
        workingDir: './scripts',
        args: ['--verbose', '--force'],
        environment: {
          NODE_ENV: 'production',
          DEBUG: 'false',
        },
        ignoreExitValue: false,
      },
    },
  },
  {
    id: 'packageDist',
    type: 'gradleTask',
    position: { x: 600, y: 480 },
    data: {
      taskName: 'packageDist',
      taskType: 'Zip',
      group: 'distribution',
      description: 'Creates distribution archive',
      enabled: true,
      config: {
        from: ['build/libs', 'docs', 'README.md'],
        archiveFileName: 'myapp-dist.zip',
        destinationDirectory: 'build/distributions',
        include: ['**/*'],
        exclude: ['**/*.log', '**/.DS_Store'],
        duplicatesStrategy: 'WARN',
        preserveFileTimestamps: true,
      },
    },
  },
  {
    id: 'copyAssets',
    type: 'gradleTask',
    position: { x: 600, y: 360 },
    data: {
      taskName: 'copyAssets',
      taskType: 'Copy',
      group: 'build',
      description: 'Copies static assets',
      enabled: true,
      config: {
        from: ['src/main/assets', 'src/main/static'],
        into: 'build/assets',
        include: ['**/*.css', '**/*.js', '**/*.html', '**/*.png', '**/*.jpg'],
        exclude: ['**/*.map', '**/*.min.*'],
        duplicatesStrategy: 'EXCLUDE',
        preserveFileTimestamps: false,
      },
    },
  },
];

/**
 * Sample edges representing task dependencies (dependsOn relationships)
 */
export const sampleEdges: GradleEdge[] = [
  {
    id: 'clean-compileJava',
    source: 'clean',
    target: 'compileJava',
    data: { dependencyType: 'dependsOn' },
  },
  {
    id: 'clean-processResources',
    source: 'clean',
    target: 'processResources',
    data: { dependencyType: 'dependsOn' },
  },
  {
    id: 'compileJava-classes',
    source: 'compileJava',
    target: 'classes',
    data: { dependencyType: 'dependsOn' },
  },
  {
    id: 'processResources-classes',
    source: 'processResources',
    target: 'classes',
    data: { dependencyType: 'dependsOn' },
  },
  {
    id: 'classes-compileTestJava',
    source: 'classes',
    target: 'compileTestJava',
    data: { dependencyType: 'dependsOn' },
  },
  {
    id: 'classes-processTestResources',
    source: 'classes',
    target: 'processTestResources',
    data: { dependencyType: 'dependsOn' },
  },
  {
    id: 'compileTestJava-testClasses',
    source: 'compileTestJava',
    target: 'testClasses',
    data: { dependencyType: 'dependsOn' },
  },
  {
    id: 'processTestResources-testClasses',
    source: 'processTestResources',
    target: 'testClasses',
    data: { dependencyType: 'dependsOn' },
  },
  {
    id: 'testClasses-test',
    source: 'testClasses',
    target: 'test',
    data: { dependencyType: 'dependsOn' },
  },
  {
    id: 'classes-jar',
    source: 'classes',
    target: 'jar',
    data: { dependencyType: 'dependsOn' },
  },
  {
    id: 'jar-assemble',
    source: 'jar',
    target: 'assemble',
    data: { dependencyType: 'dependsOn' },
  },
  {
    id: 'test-check',
    source: 'test',
    target: 'check',
    data: { dependencyType: 'dependsOn' },
  },
  {
    id: 'assemble-build',
    source: 'assemble',
    target: 'build',
    data: { dependencyType: 'dependsOn' },
  },
  {
    id: 'check-build',
    source: 'check',
    target: 'build',
    data: { dependencyType: 'dependsOn' },
  },
  {
    id: 'processResources-runScript',
    source: 'processResources',
    target: 'runScript',
    data: { dependencyType: 'dependsOn' },
  },
  {
    id: 'jar-copyAssets',
    source: 'jar',
    target: 'copyAssets',
    data: { dependencyType: 'dependsOn' },
  },
  {
    id: 'copyAssets-packageDist',
    source: 'copyAssets',
    target: 'packageDist',
    data: { dependencyType: 'dependsOn' },
  },
  {
    id: 'assemble-packageDist',
    source: 'assemble',
    target: 'packageDist',
    data: { dependencyType: 'dependsOn' },
  },
];
